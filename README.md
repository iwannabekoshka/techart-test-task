# Тестовое задание на позицию Младший Fullstack-разработчик в Techart

##Оглавление
- [Обзор](#обзор)
  - [Задача](#задача)
  - [Материалы](#материалы)
  - [Требования](#требования)
  - [Примечание](#примечание)
- [Структура проекта](#структура-проекта)
  - [Решение 1](#решение-1)
  - [Решение 2](#решение-2)
  - [Общее для двух решений](#общее-для-двух-решений) 
- [Сервер и БД](#сервер-и-бд)
  - [Сервер](#сервер)
  - [БД](#бд)
- [Использованные команды командной строки](#использованные-команды-командной-строки)

##Обзор

###Задача
Используя функции PHP для доступа к MySQL, организовать постраничный вывод новостей и показ отдельной новости.
Сортировка новостей - по дате в обратном порядке (новые наверху).

###Материалы
- Общий вид новостей:  `assets/design1.gif`;
- Вид одной новости: `assets/design2.gif`;
- Таблица MySQL: `assets/news.sql`.

###Требования
Адреса страниц:
- `news.php` - показ первой страницы списка новостей;
- `news.php?page=<N>` - показ страницы списка по номеру;
- `view.php?id=<ID>` - показ одной новости. Страница показа одной новости должна содержать ссылку "Все новости", 
  ведущую на первую страницу списка новостей;
  
Страницы верстать в как можно более точном соответствии с эскизами `design1.gif` и `design2.gif`.

###Примечание
В простом варианте достаточно реализовать код с непосредственным вызовом функций доступа к MySQL,
однако приветствуется использование PDO, а также архитектура MVC с применением ООП.

##Структура проекта

###Решение 1
Ветка `master`.  

Используется непосредственный вызов функций доступа к MySQL. В страницах `news.php` и `view.php` вызываются запросы 
`getNews.php` и `getView.php`, которые на основе GET параметров выдают новости.

###Решение 2
Ветка `feat-mvc`.

Используется архитектура **MVC**, применяются **ООП** и **PDO**.  

При переходе на сайт создается экземепляр `Router`, который начинает сверять запрос адресный строки с маршрутами
в `config/routes.php`. При совпадении создается экземпляр контроллера (`NewsController.php`) и вызывается необходимый 
метод (либо `actionIndex`, либо `actionView`). Методы обращаются к модели `News.php`. В модели используется
**PDO** для доступа к **MySQL**.  

Доступ к базе вынесен в класс `Database.php`. Параметры доступа к БД вынесены в
`config/db_params.php`.  

Используются отображения `news.php`, для вывода списка новостей с пагинацией, и `view.php`, для 
вывода одной новости.

###Общее для двух решений
Используется `SCSS` с архитектурой `7-1`.

Всё реализовано по макету:
- Список новостей в обратном порядке;
- Пагинация;
- Вывод отдельной новости с воозможностью возврата на страницу списка новостей.

##Сервер и БД

###Сервер
Для запуска сайта использовал **XAMPP**.  

Для удобства создал свой домен:
- В файле `C:/xampp/apache/conf/extra/httpd-vhosts.conf` прописал следующее:
```
<VirtualHost *:80>
    ServerAdmin webmaster@techart-test-task
    DocumentRoot "C:/xampp/htdocs/techart-test-task"
    ServerName techart-test-task
    ServerAlias www.techart-test-task
</VirtualHost>
```

- Добавил переадресацию в `C:/Windows/System32/drivers/etc/hosts`:
```
127.0.0.1       techart-test-task
127.0.0.1       www.techart-test-task
```

###БД
Параметры базы данных, использованные в этом проекте:
```
    'host' => 'localhost',
    'dbname' => 'techart_test_task',
    'user' => 'root',
    'password' => ''
```

## Использованные команды командной строки
- `sass --watch css/scss/main.scss:css/style.css` - компиляция **SCSS** в **CSS** при изменениях в `main.scss`